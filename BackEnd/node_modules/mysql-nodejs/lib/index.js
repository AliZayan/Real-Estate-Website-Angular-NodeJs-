'use strict';

const Connection = require('./connection'),
      Model = require('./model'),
      errors = require('./errors');

function MySqlNode(){
    this.config = null;
    this.connection = null;
};

MySqlNode.prototype.connect = function( config, options ){
    this.config = config;
    this.connection = new Connection(config, options);
};

MySqlNode.prototype.model = function( name ){
    
    if ( this.connection == null )
        throw new errors.YetToConnectError();

    return Model.model(name, this.connection);
};

const mySQLNode = module.exports = exports = new MySqlNode;